<!doctype html>


// TODO: replace the following with Supabase insert
// await supabase.from('prelaunch_signups').insert([data])
// then redirect to thank-you page with referral link
});


document.getElementById('full-signup-form').addEventListener('submit', async function(e){
e.preventDefault();
const fd = new FormData(e.target);
const data = Object.fromEntries(fd.entries());
data.referral_code = generateReferralCode(data.email || data.name || 'anon');
// TODO: persist to Supabase and/or call server endpoint to send confirmation & referral link
alert('Account reserved â€” we sent a confirmation to ' + data.email + '. Your referral code: ' + data.referral_code);
// Redirect to thank-you with referral param
// window.location.href = '/thank-you?ref=' + encodeURIComponent(data.referral_code);
});


/* ---------------- Anchor CTA bindings ---------------- */
document.getElementById('join-waitlist').addEventListener('click', function(){
document.getElementById('full-signup-form').scrollIntoView({behavior:'smooth'});
});
document.getElementById('apply-creator').addEventListener('click', function(){
// scroll to Founding Creator section
document.querySelector('section h3').scrollIntoView({behavior:'smooth'});
});
document.getElementById('see-empowerment').addEventListener('click', function(){
document.getElementById('empowerment').scrollIntoView({behavior:'smooth'});
});


/* ---------------- Analytics & Tracking (notes) ---------------- */
// Recommendations:
// - Add Google Analytics / GA4 measurement
// - Add Facebook Pixel / Meta Conversions for ad retargeting
// - Track conversion events: signup_submit, apply_creator_click, referral_share
// - Use server-side events for reliable attribution


/* ---------------- Supabase Integration (example - DO NOT use client secrets in frontend) ---------------- */
/*
// Example using Supabase JS client (replace with your keys and secure approach)
import { createClient } from '@supabase/supabase-js'
const supabase = createClient('https://your-supabase-url.supabase.co', 'PUBLIC_ANON_KEY');


async function saveSignup(data){
const { error } = await supabase.from('prelaunch_signups').insert([data]);
if(error) console.error(error);
}
*/


/* ---------------- Export to Sheets (admin flow) ---------------- */
// Implement a secure admin-only endpoint or a Cloud Function that can:
// 1) Query Supabase signups
// 2) Push rows to Google Sheets via Google Sheets API or Apps Script POST endpoint
// 3) Return CSV for download


</script>
</body>
</html>
