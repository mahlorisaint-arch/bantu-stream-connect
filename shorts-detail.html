<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#0F172A">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Bantu Shorts - Bantu Stream Connect</title>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Supabase JS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  
  <!-- Swiper for Shorts Carousel -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/shorts-detail.css">
</head>
<body>
  <!-- Loading Screen -->
  <div id="shorts-loading" class="shorts-loading">
    <div class="spinner"></div>
    <div id="loading-text">Loading Shorts...</div>
    <div class="loading-progress">
      <div class="loading-progress-bar" id="loading-progress-bar" style="width: 0%"></div>
    </div>
  </div>
  
  <!-- Header -->
  <header class="header">
    <div class="logo" onclick="window.location.href='index.html'">
      <div class="logo-icon">
        <!-- UPDATED: New logo path -->
        <img src="assets/icon/bantu_stream_connect_icon.png" alt="Bantu Stream Connect">
      </div>
      <div class="logo-text">BANTU SHORTS</div>
    </div>
    <div class="header-actions">
      <button id="search-btn" class="icon-btn" title="Search">
        <i class="fas fa-search"></i>
      </button>
      <button id="notifications-btn" class="icon-btn" title="Notifications">
        <i class="fas fa-bell"></i>
        <span class="notification-badge" id="notification-count" style="display: none;">0</span>
      </button>
      <button id="profile-btn" class="profile-btn" title="Profile">
        <div class="profile-placeholder" id="userProfilePlaceholder">
          <i class="fas fa-user"></i>
        </div>
      </button>
    </div>
  </header>
  
  <!-- Main Shorts Player -->
  <div class="shorts-player-container" id="shorts-player">
    <div class="swiper shorts-swiper" id="shorts-swiper">
      <div class="swiper-wrapper" id="shorts-wrapper">
        <!-- Shorts loaded dynamically -->
      </div>
    </div>
    
    <div class="double-tap-indicator" id="double-tap-indicator">
      <i class="fas fa-heart"></i>
    </div>
    
    <div class="play-pause-overlay" id="play-pause-overlay">
      <i class="fas fa-play" id="play-pause-icon"></i>
    </div>
    
    <!-- More Menu (Three Dots) -->
    <div class="more-menu" id="more-menu">
      <button class="more-menu-item" id="more-report">
        <i class="fas fa-flag"></i>
        <span>Report</span>
      </button>
      <button class="more-menu-item" id="more-mute">
        <i class="fas fa-volume-mute"></i>
        <span>Mute Creator</span>
      </button>
      <button class="more-menu-item" id="more-not-interested">
        <i class="fas fa-thumbs-down"></i>
        <span>Not Interested</span>
      </button>
      <button class="more-menu-item danger" id="more-block">
        <i class="fas fa-ban"></i>
        <span>Block Creator</span>
      </button>
    </div>
  </div>
  
  <!-- SEARCH MODAL -->
  <div id="search-modal" class="search-modal">
    <div class="search-modal-header">
      <div class="search-input-container">
        <i class="search-icon fas fa-search"></i>
        <input type="text" id="search-input" class="search-input" 
               placeholder="Search shorts, creators, or categories..." autocomplete="off">
      </div>
      <button id="close-search-btn" class="close-search-btn">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="search-filters">
      <div class="filter-group">
        <label class="filter-label">Category</label>
        <select id="category-filter" class="filter-select">
          <option value="">All Categories</option>
          <option value="Music">Music</option>
          <option value="STEM">STEM</option>
          <option value="Culture">Culture</option>
          <option value="News">News</option>
          <option value="Sports">Sports</option>
        </select>
      </div>
      <div class="filter-group">
        <label class="filter-label">Sort By</label>
        <select id="sort-filter" class="filter-select">
          <option value="newest">Newest First</option>
          <option value="popular">Most Popular</option>
          <option value="trending">Trending</option>
        </select>
      </div>
    </div>
    <div id="search-results" class="search-results">
      <div id="search-results-grid" class="search-results-grid">
        <!-- Results loaded here -->
      </div>
    </div>
  </div>
  
  <!-- NOTIFICATIONS PANEL -->
  <div id="notifications-panel" class="notifications-panel">
    <div class="notifications-header">
      <h2>Notifications</h2>
      <button id="close-notifications" class="icon-btn">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="notifications-list" id="notifications-list">
      <div class="empty-notifications">
        <i class="fas fa-bell-slash"></i>
        <p>Loading notifications...</p>
      </div>
    </div>
    <div class="notifications-footer">
      <button id="mark-all-read" class="text-btn">Mark all as read</button>
    </div>
  </div>
  
  <!-- Comments Drawer Modal -->
  <div class="modal-overlay" id="comments-modal">
    <div class="comments-drawer">
      <div class="drawer-header">
        <h3>Comments</h3>
        <button class="drawer-close" id="close-comments">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="comments-list" id="comments-list">
        <!-- Comments loaded here -->
      </div>
      <div class="comment-composer">
        <div class="composer-avatar" id="composer-avatar">
          <span id="composer-initials">U</span>
        </div>
        <textarea 
          class="composer-input" 
          id="comment-input" 
          placeholder="Add a comment..."
          maxlength="500"
          rows="1"
        ></textarea>
        <button class="post-comment-btn" id="post-comment-btn" disabled>Post</button>
      </div>
    </div>
  </div>
  
  <!-- Share Modal -->
  <div class="modal-overlay" id="share-modal">
    <div class="share-modal">
      <div class="drawer-header">
        <h3>Share Short</h3>
        <button class="drawer-close" id="close-share">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="share-options">
        <div class="share-option" id="share-whatsapp">
          <div class="share-icon whatsapp">
            <i class="fab fa-whatsapp"></i>
          </div>
          <span class="share-label">WhatsApp</span>
        </div>
        <div class="share-option" id="share-twitter">
          <div class="share-icon twitter">
            <i class="fab fa-twitter"></i>
          </div>
          <span class="share-label">X</span>
        </div>
        <div class="share-option" id="share-instagram">
          <div class="share-icon instagram">
            <i class="fab fa-instagram"></i>
          </div>
          <span class="share-label">Instagram</span>
        </div>
        <div class="share-option" id="share-copy">
          <div class="share-icon copy">
            <i class="fas fa-link"></i>
          </div>
          <span class="share-label">Copy Link</span>
        </div>
      </div>
      <div class="share-link">
        <input type="text" id="share-link-input" readonly value="">
        <button class="copy-link-btn" id="copy-link-btn">Copy</button>
      </div>
    </div>
  </div>
  
  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>
  
  <!-- Custom JavaScript -->
  <script src="js/shorts-detail.js"></script>
</body>
</html>
